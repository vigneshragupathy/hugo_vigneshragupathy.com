<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Network teaming – RHEL7 | My New Hugo Site</title>
<meta name="keywords" content="linux, opensource">
<meta name="description" content="Introduction
Linux Bonding driver
The Linux bonding driver provides a method for aggregating multiple network interface controllers (NICs) into a single logical bonded interface of two or more so-called (NIC) slaves. The majority of modern Linux distributions (distros) come with a Linux kernel which has the Linux bonding driver (bonding)integrated as a loadable kernel module.
We can check the bonding module by
{% highlight console %}
[root@example.com ~]# lsmod |grep bonding
bonding 142537 0">
<meta name="author" content="Vignesh Ragupathy">
<link rel="canonical" href="http://localhost:1313/posts/2017-10-07-network-teaming-rhel7/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/2017-10-07-network-teaming-rhel7/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="http://localhost:1313/posts/2017-10-07-network-teaming-rhel7/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="Network teaming – RHEL7">
  <meta property="og:description" content="Introduction Linux Bonding driver The Linux bonding driver provides a method for aggregating multiple network interface controllers (NICs) into a single logical bonded interface of two or more so-called (NIC) slaves. The majority of modern Linux distributions (distros) come with a Linux kernel which has the Linux bonding driver (bonding)integrated as a loadable kernel module.
We can check the bonding module by
{% highlight console %}
[root@example.com ~]# lsmod |grep bonding bonding 142537 0">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2017-10-07T11:35:00+00:00">
    <meta property="article:modified_time" content="2017-10-07T11:35:00+00:00">
    <meta property="article:tag" content="Linux">
    <meta property="article:tag" content="Opensource">
      <meta property="og:image" content="http://localhost:1313/images/papermod-cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png">
<meta name="twitter:title" content="Network teaming – RHEL7">
<meta name="twitter:description" content="Introduction
Linux Bonding driver
The Linux bonding driver provides a method for aggregating multiple network interface controllers (NICs) into a single logical bonded interface of two or more so-called (NIC) slaves. The majority of modern Linux distributions (distros) come with a Linux kernel which has the Linux bonding driver (bonding)integrated as a loadable kernel module.
We can check the bonding module by
{% highlight console %}
[root@example.com ~]# lsmod |grep bonding
bonding 142537 0">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Network teaming – RHEL7",
      "item": "http://localhost:1313/posts/2017-10-07-network-teaming-rhel7/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Network teaming – RHEL7",
  "name": "Network teaming – RHEL7",
  "description": "Introduction Linux Bonding driver The Linux bonding driver provides a method for aggregating multiple network interface controllers (NICs) into a single logical bonded interface of two or more so-called (NIC) slaves. The majority of modern Linux distributions (distros) come with a Linux kernel which has the Linux bonding driver (bonding)integrated as a loadable kernel module.\nWe can check the bonding module by\n{% highlight console %}\n[root@example.com ~]# lsmod |grep bonding bonding 142537 0\n",
  "keywords": [
    "linux", "opensource"
  ],
  "articleBody": "Introduction Linux Bonding driver The Linux bonding driver provides a method for aggregating multiple network interface controllers (NICs) into a single logical bonded interface of two or more so-called (NIC) slaves. The majority of modern Linux distributions (distros) come with a Linux kernel which has the Linux bonding driver (bonding)integrated as a loadable kernel module.\nWe can check the bonding module by\n{% highlight console %}\n[root@example.com ~]# lsmod |grep bonding bonding 142537 0\n{% endhighlight %}\nLinux Teaming driver The Linux Team driver provides an alternative to bonding driver. it has actually been designed to solve the same problem(s) using a wholly different design and different approach; an approach where special attention was paid to flexibility and efficiency. The best part is that the configuration, management, and monitoring of team driver is significantly improved with no compromise on performance, features, or throughput.The main difference is that Team driver kernel part contains only essential code and the rest of the code (link validation, LACP implementation, decision making, etc.) is run in userspace as a part of teamd daemon.\nFeatures comparison between Bonding and Teaming\nsource – redhat.com\nFeature Bonding Team {% highlight console %}\nbroadcast TX policy\tYes\tYes round-robin TX policy\tYes\tYes active-backup TX policy\tYes\tYes LACP (802.3ad) support\tYes\tYes hash-based TX policy\tYes\tYes TX load-balancing support (TLB)\tYes\tYes VLAN support\tYes\tYes LACP hash port select\tYes\tYes Ethtool link monitoring\tYes\tYes ARP link monitoring\tYes\tYes ports up/down delays\tYes\tYes configurable via Network Manager (gui, tui, and cli)\tYes\tYes multiple device stacking\tYes\tYes highly customizable hash function setup\tNo\tYes D-Bus interface\tNo\tYes ØMQ interface\tNo\tYes port priorities and stickiness (“primary” option enhancement)\tNo\tYes separate per-port link monitoring setup\tNo\tYes logic in user-space\tNo\tYes modular design\tNo\tYes NS/NA (IPV6) link monitoring\tNo\tYes load-balancing for LACP support\tNo\tYes lockless TX/RX path\tNo\tYes user-space runtime control\tLimited\tFull multiple link monitoring setup\tLimited\tYes extensibility\tHard\tEasy performance overhead\tLow\tVery Low RX load-balancing support (ALB)\tYes\tPlanned RX load-balancing support (ALB) in bridge or OVS\tNo\tPlanned Performance Analysis between Bonding and Teaming\n{% endhighlight %}\nsource – redhat.com\n{% highlight console %}\nMachine type: 3.3Ghz CPU (Intel), 4GB RAM Link Type: 10GFO Interface\tPerformance with64byte packets\tPerformance with 1KB packets\tPerformance with 64KB packets\tAverage Latency eth0\t1664.00Mb/s (27.48%CPU)\t8053.53Mb/s (30.71%CPU)\t9414.99Mb/s (17.08%CPU)\t54.7usec eth1\t1577.44Mb/s (26.91%CPU)\t7728.04Mb/s (32.23%CPU)\t9329.05Mb/s (19.38%CPU)\t49.3usec bonded (eth0+eth1)\t1510.13Mb/s (27.65%CPU)\t7277.48Mb/s (30.07%CPU)\t9414.97Mb/s (15.62%CPU)\t55.5usec teamed (eth0+eth1)\t1550.15Mb/s (26.81%CPU)\t7435.76Mb/s (29.56%CPU)\t9413.8Mb/s (17.63%CPU)\t55.5usec\n{% endhighlight %}\nMigration We can migrate the existing bond interface to a team interface.\nBond2team is a cli tool used to convert an existing bond interface to team.\nTo convert a current bond0 configuration to team ifcfg, issue a command as root:\n{% highlight console %}\n[root@HOST1 ~]# /usr/bin/bond2team –master bond0 –rename team0\n{% endhighlight %}\nTo convert a current bond0 configuration to team ifcfg, and to manually specify the path to the ifcfg file, issue a command as root:\n{% highlight console %}\n[root@HOST1 ~]# /usr/bin/bond2team –master bond0 –configdir /path/to/ifcfg-file\n{% endhighlight %}\nIt is also possible to create a team configuration by supplying the bond2team tool with a list of bonding parameters. For example:\n{% highlight console %}\n[root@HOST1 ~]# /usr/bin/bond2team –bonding_opts “mode=1 miimon=500”\n{% endhighlight %}\nConfiguration – Mode:active-backup Step 1:\nCheck the available network device status\n{% highlight console %}\n[root@HOST1 ~]# nmcli device status DEVICE TYPE STATE CONNECTION eth0 ethernet connected System eth0 eno1 ethernet disconnected — eno2 ethernet disconnected — lo loopback unmanaged —\n{% endhighlight %}\nCheck the network connection status\n{% highlight console %}\n[root@HOST1 ~]# nmcli connection show NAME UUID TYPE DEVICE System eth0 5fb06bd0-0bb0-7ffb-45f1-d6edd65f3e03 802-3-ethernet eth0\n{% endhighlight %}\nStep 2:\nCreating a team interface named team0 in active-backup mode\n{% highlight console %}\n[root@HOST1 ~]# nmcli connection add con-name team0 type team ifname team0 config ‘{“runner”: {“name”: “activebackup”}}’ Connection ‘team0’ (c30dca42-cc35-4578-95c6-ae79f33b5db3) successfully added.\n{% endhighlight %}\nVerify the new team connection is created\n{% highlight console %}\n[root@HOST1 ~]# nmcli connection show NAME UUID TYPE DEVICE team0 c30dca42-cc35-4578-95c6-ae79f33b5db3 team team0 System eth0 5fb06bd0-0bb0-7ffb-45f1-d6edd65f3e03 802-3-ethernet eth0\n{% endhighlight %}\nStep 3:\nAdd the slave interface (eno1 and en02) and point the master to the newly created team interface team0\n{% highlight console %}\n[root@HOST1 ~]# nmcli connection add con-name team0-sl1 type team-slave ifname eno1 master team0 Connection ‘team0-sl1’ (8d5be820-2e88-46a2-8c08-b34ec0caf8a0) successfully added.\n{% endhighlight %}{% highlight console %}\n[root@HOST1 ~]# nmcli connection add con-name team0-sl2 type team-slave ifname eno2 master team0 Connection ‘team0-sl2’ (3372f52c-0164-49d5-9783-938df99f18bc) successfully added.\n{% endhighlight %}\nVerify the connection status now . we can see team masters and slaves here\n{% highlight console %}\n[root@HOST1 ~]# nmcli connection show NAME UUID TYPE DEVICE team0 c30dca42-cc35-4578-95c6-ae79f33b5db3 team team0 System eth0 5fb06bd0-0bb0-7ffb-45f1-d6edd65f3e03 802-3-ethernet eth0 team0-sl2 3372f52c-0164-49d5-9783-938df99f18bc 802-3-ethernet eno2 team0-sl1 8d5be820-2e88-46a2-8c08-b34ec0caf8a0 802-3-ethernet eno1\n{% endhighlight %}\nStep 4:\nNow assign the IP address to the team0 interface\n{% highlight console %}\n[root@HOST1 ~]# nmcli connection modify team0 ipv4.addresses 192.168.20.100/24 ipv4.method manual\n{% endhighlight %}\nCheck the teaming status. Here we can see team0 interface status and active slave\n{% highlight console %}\n[root@HOST1 ~]# teamdctl team0 state setup: runner: activebackup ports: eno1 link watches: link summary: up instance[link_watch_0]: name: ethtool link: up eno2 link watches: link summary: up instance[link_watch_0]: name: ethtool link: up runner: active port: eno1\n{% endhighlight %}\nStep 5:\nChecking the redundancy\nNow bring down the current active slave interface and check the other interface becomes active\n{% highlight console %}\n[root@HOST1 ~]# nmcli connection down team0-sl team0-sl1 team0-sl2\n{% endhighlight %}{% highlight console %}\n[root@HOST1 ~]# nmcli connection down team0-sl1\n{% endhighlight %}{% highlight console %}\n[root@HOST1 ~]# teamdctl team0 state setup: runner: activebackup ports: eno2 link watches: link summary: up instance[link_watch_0]: name: ethtool link: up runner: active port: eno2\n{% endhighlight %}\nNow we can see the active port is changed to eno2 automatically.\nConfiguration – Mode:round-robin Step 1:\nCheck the network interfaces available\n{% highlight console %}\n[root@node1 ~]# ifconfig |grep eno -A 2 eno16777728: flags=4163 mtu 1500 inet 10.0.0.21 netmask 255.255.255.0 broadcast 10.0.0.255\neno33554976: flags=4163 mtu 1500 ether 00:0c:29:9e:6f:a9 txqueuelen 1000 (Ethernet)\neno50332200: flags=4163 mtu 1500 ether 00:0c:29:9e:6f:b3 txqueuelen 1000 (Ethernet)\n{% endhighlight %}\nStep 2:\nCreate a teaming interface with config roundrobin\n{% highlight console %}\n[root@node1 ~]# nmcli connection add con-name team1 type team ifname team1 config ‘{“runner”: {“name”: “roundrobin”}}’ Connection ‘team1’ (ef3bc4dc-c060-4d39-865a-6c6df65d6c3d) successfully added.\n{% endhighlight %}\nStep 3:\nCreate a slave interface and point the master to team1\n{% highlight console %}\n[root@node1 ~]# nmcli connection add con-name slave1 type team-slave ifname eno33554976 master team1 Connection ‘slave1’ (f77e9f45-43fe-438d-9b91-9e2397b15272) successfully added.\n{% endhighlight %}{% highlight console %}\n[root@node1 ~]# nmcli connection add con-name slave2 type team-slave ifname eno50332200 master team1 Connection ‘slave2’ (4559604b-ffd4-4513-a3a9-b9c94ceb5108) successfully added.\n{% endhighlight %}\nStep 4:\nAssign IP to team1 interface\n{% highlight console %}\n[root@node1 ~]# nmcli connection modify team1 ipv4.addresses 10.0.0.23/24 ipv4.method manual\n{% endhighlight %}\nStep 5:\nCheck the connecton status\n{% highlight console %}\n[root@node1 ~]# nmcli connection show NAME UUID TYPE DEVICE slave1 f77e9f45-43fe-438d-9b91-9e2397b15272 802-3-ethernet eno33554976 team1 ef3bc4dc-c060-4d39-865a-6c6df65d6c3d team team1 eno16777728 c0cbd7c2-b6cc-473d-919f-4a291fc72cd4 802-3-ethernet eno16777728 slave2 4559604b-ffd4-4513-a3a9-b9c94ceb5108 802-3-ethernet eno50332200\n{% endhighlight %}{% highlight console %}\n[root@node1 ~]# teamdctl team1 state setup: runner: roundrobin ports: eno50332200 link watches: link summary: up instance[link_watch_0]: name: ethtool link: up eno33554976 link watches: link summary: up instance[link_watch_0]: name: ethtool link: up\n{% endhighlight %}\nBandwidth analysis between individual NIC and teaming NIC (mode=round-robin) I Used another VM(node2) with identical configuraton and followed the same steps and assined the IP 10.0.0.24 to team1 interface.\n{% highlight console %}\n[root@node2 ~]# nmcli connection modify team1 ipv4.addresses 10.0.0.24/24 ipv4.method manual\n{% endhighlight %}\nStep 1:\nInstalling qperf packege in both the node\n{% highlight console %}\n[root@nodeX]# rpm -ivh qperf-0.4.9-2.el7.x86_64.rpm warning: qperf-0.4.9-2.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID fd431d51: NOKEY Preparing… ################################# [100%] Updating / installing… 1:qperf-0.4.9-2.el7 ################################# [100%]\n{% endhighlight %}\nStep 2:\nFlush the iptables in both the nodes\n{% highlight console %}\n[root@nodeX ~]# iptables -F\n{% endhighlight %}\nStep 3:\nNow bringing down the teaming interface from both the nodes to check the bandwith by keeping only individual NIC\n{% highlight console %}\n[root@node1 ~]# nmcli connection down team1\n{% endhighlight %}{% highlight console %}\n[root@node1 ~]# nmcli connection show NAME UUID TYPE DEVICE slave2 4559604b-ffd4-4513-a3a9-b9c94ceb5108 802-3-ethernet — eno16777728 c0cbd7c2-b6cc-473d-919f-4a291fc72cd4 802-3-ethernet eno16777728 team1 ef3bc4dc-c060-4d39-865a-6c6df65d6c3d team — slave1 f77e9f45-43fe-438d-9b91-9e2397b15272 802-3-ethernet —\n{% endhighlight %}{% highlight console %}\n[root@node2 ~]# nmcli connection down team1\n{% endhighlight %}{% highlight console %}\n[root@node2 ~]# nmcli connection show NAME UUID TYPE DEVICE slave1 3d2ae74e-00b5-42d9-b531-d2950190f9de 802-3-ethernet — team1 18b13233-eb4b-4468-8bc9-e8d8263a404b team — eno16777728 42910ac3-a701-4f5e-b416-59c61ce1eb11 802-3-ethernet eno16777728 slave2 72061aa5-dac5-4376-b6df-34c0e5620b2e 802-3-ethernet —\n{% endhighlight %}\nStep 4:\nNow starting qperf in node2\n{% highlight console %}\n[root@node2 ~]# qperf\n{% endhighlight %}\nStep 5:\nNow running qperf for 5 minutes to check the tcp and udp bandwidth between node 1 and node 2 .\nThe IP 10.0.0.22 is assined to NIC eno16777728 of node2\n{% highlight console %}\n[root@node1 ~]# qperf 10.0.0.22 -t 300 tcp_bw udp_bw tcp_bw: bw = 105 MB/sec udp_bw: send_bw = 55.9 MB/sec recv_bw = 55.2 MB/sec\n{% endhighlight %}\nStep 6:\nNow bandwidth of individual NIC is tested, lets bring up team interface and bring down individual NIC\n{% highlight console %}\n[root@node1 ~]# nmcli connection down eno16777728\n{% endhighlight %}{% highlight console %}\n[root@node1 ~]# nmcli connection show NAME UUID TYPE DEVICE slave2 4559604b-ffd4-4513-a3a9-b9c94ceb5108 802-3-ethernet eno50332200 eno16777728 c0cbd7c2-b6cc-473d-919f-4a291fc72cd4 802-3-ethernet — team1 ef3bc4dc-c060-4d39-865a-6c6df65d6c3d team team1 slave1 f77e9f45-43fe-438d-9b91-9e2397b15272 802-3-ethernet eno33554976\n{% endhighlight %}{% highlight console %}\n[root@node2 ~]# nmcli connection down eno16777728\n{% endhighlight %}{% highlight console %}\n[root@node2 ~]# nmcli connection show NAME UUID TYPE DEVICE slave1 3d2ae74e-00b5-42d9-b531-d2950190f9de 802-3-ethernet eno33554976 team1 18b13233-eb4b-4468-8bc9-e8d8263a404b team team1 eno16777728 42910ac3-a701-4f5e-b416-59c61ce1eb11 802-3-ethernet — slave2 72061aa5-dac5-4376-b6df-34c0e5620b2e 802-3-ethernet eno50332200\n{% endhighlight %}\nStep 7:\nStarting qperf on node2\n{% highlight console %}\n[root@node2 ~]# qperf\n{% endhighlight %}\nStep 8:\nNow running qperf for 5 minutes to check the tcp and udp bandwidth between node 1 and node 2 .\nThe IP 10.0.0.24 is assined to team1 interface of node2\n{% highlight console %}\n[root@node1 ~]# qperf 10.0.0.24 -t 300 tcp_bw udp_bw tcp_bw: bw = 108 MB/sec udp_bw: send_bw = 51.5 MB/sec recv_bw = 51 MB/sec\n{% endhighlight %}\nNow we can see the bandwith between individual NIC and team interface is almost same.\n",
  "wordCount" : "1727",
  "inLanguage": "en",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "2017-10-07T11:35:00Z",
  "dateModified": "2017-10-07T11:35:00Z",
  "author":{
    "@type": "Person",
    "name": "Vignesh Ragupathy"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/2017-10-07-network-teaming-rhel7/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "My New Hugo Site",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="My New Hugo Site (Alt + H)">My New Hugo Site</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="http://localhost:1313/fr/" title="French"
                            aria-label=":fr:">🇫🇷</a>
                    </li>
                    <li>
                        <a href="http://localhost:1313/fa/" title="Fa"
                            aria-label="Fa">Fa</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Network teaming – RHEL7
    </h1>
    <div class="post-meta"><span title='2017-10-07 11:35:00 +0000 UTC'>October 7, 2017</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;Vignesh Ragupathy&nbsp;|&nbsp;<a href="https://github.com/adityatelange/hugo-PaperMod/tree/exampleSite/content/posts/2017-10-07-network-teaming-rhel7.markdown" rel="noopener noreferrer edit" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul><ul>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a><ul>
                        
                <li>
                    <a href="#linux-bonding-driver" aria-label="Linux Bonding driver">Linux Bonding driver</a></li>
                <li>
                    <a href="#linux-teaming-driver" aria-label="Linux Teaming driver">Linux Teaming driver</a></li>
                <li>
                    <a href="#feature-bonding-team" aria-label="Feature Bonding Team">Feature Bonding Team</a></li></ul>
                </li>
                <li>
                    <a href="#migration" aria-label="Migration">Migration</a></li>
                <li>
                    <a href="#configuration--modeactive-backup" aria-label="Configuration – Mode:active-backup">Configuration – Mode:active-backup</a></li></ul>
                    
                <li>
                    <a href="#configuration--moderound-robin" aria-label="Configuration – Mode:round-robin">Configuration – Mode:round-robin</a></li>
                <li>
                    <a href="#bandwidth-analysis-between-individual-nic-and-teaming-nic-moderound-robin" aria-label="Bandwidth analysis between individual NIC and teaming NIC (mode=round-robin)">Bandwidth analysis between individual NIC and teaming NIC (mode=round-robin)</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h3>
<h4 id="linux-bonding-driver">Linux Bonding driver<a hidden class="anchor" aria-hidden="true" href="#linux-bonding-driver">#</a></h4>
<p>The Linux bonding driver provides a method for aggregating multiple network interface controllers (NICs) into a single logical bonded interface of two or more so-called (NIC) slaves. The majority of modern Linux distributions (distros) come with a Linux kernel which has the Linux bonding driver (bonding)integrated as a loadable kernel module.</p>
<p>We can check the bonding module by</p>
<p>{% highlight console %}</p>
<p>[root@example.com ~]# lsmod |grep bonding
bonding 142537 0</p>
<p>{% endhighlight %}</p>
<h4 id="linux-teaming-driver">Linux Teaming driver<a hidden class="anchor" aria-hidden="true" href="#linux-teaming-driver">#</a></h4>
<p>The Linux Team driver provides an alternative to bonding driver. it has actually been designed to solve the same problem(s) using a wholly different design and different approach; an approach where special attention was paid to flexibility and efficiency. The best part is that the configuration, management, and monitoring of team driver is significantly improved with no compromise on performance, features, or throughput.The main difference is that Team driver kernel part contains only essential code and the rest of the code (link validation, LACP implementation, decision making, etc.) is run in userspace as a part of teamd daemon.</p>
<p>Features comparison between Bonding and Teaming<br>
source – redhat.com</p>
<h4 id="feature-bonding-team">Feature Bonding Team<a hidden class="anchor" aria-hidden="true" href="#feature-bonding-team">#</a></h4>
<p>{% highlight console %}</p>
<p>broadcast TX policy	Yes	Yes
round-robin TX policy	Yes	Yes
active-backup TX policy	Yes	Yes
LACP (802.3ad) support	Yes	Yes
hash-based TX policy	Yes	Yes
TX load-balancing support (TLB)	Yes	Yes
VLAN support	Yes	Yes
LACP hash port select	Yes	Yes
Ethtool link monitoring	Yes	Yes
ARP link monitoring	Yes	Yes
ports up/down delays	Yes	Yes
configurable via Network Manager (gui, tui, and cli)	Yes	Yes
multiple device stacking	Yes	Yes
highly customizable hash function setup	No	Yes
D-Bus interface	No	Yes
ØMQ interface	No	Yes
port priorities and stickiness (“primary” option enhancement)	No	Yes
separate per-port link monitoring setup	No	Yes
logic in user-space	No	Yes
modular design	No	Yes
NS/NA (IPV6) link monitoring	No	Yes
load-balancing for LACP support	No	Yes
lockless TX/RX path	No	Yes
user-space runtime control	Limited	Full
multiple link monitoring setup	Limited	Yes
extensibility	Hard	Easy
performance overhead	Low	Very Low
RX load-balancing support (ALB)	Yes	Planned
RX load-balancing support (ALB) in bridge or OVS	No	Planned
Performance Analysis between Bonding and Teaming</p>
<p>{% endhighlight %}</p>
<p>source – redhat.com</p>
<p>{% highlight console %}</p>
<p>Machine type: 3.3Ghz CPU (Intel), 4GB RAM
Link Type: 10GFO
Interface	Performance with64byte packets	Performance with 1KB packets	Performance with 64KB packets	Average Latency
eth0	1664.00Mb/s (27.48%CPU)	8053.53Mb/s (30.71%CPU)	9414.99Mb/s (17.08%CPU)	54.7usec
eth1	1577.44Mb/s (26.91%CPU)	7728.04Mb/s (32.23%CPU)	9329.05Mb/s (19.38%CPU)	49.3usec
bonded (eth0+eth1)	1510.13Mb/s (27.65%CPU)	7277.48Mb/s (30.07%CPU)	9414.97Mb/s (15.62%CPU)	55.5usec
teamed (eth0+eth1)	1550.15Mb/s (26.81%CPU)	7435.76Mb/s (29.56%CPU)	9413.8Mb/s (17.63%CPU)	55.5usec</p>
<p>{% endhighlight %}</p>
<h3 id="migration">Migration<a hidden class="anchor" aria-hidden="true" href="#migration">#</a></h3>
<p>We can migrate the existing bond interface to a team interface.<br>
Bond2team is a cli tool used to convert an existing bond interface to team.<br>
To convert a current bond0 configuration to team ifcfg, issue a command as root:</p>
<p>{% highlight console %}</p>
<p>[root@HOST1 ~]# /usr/bin/bond2team –master bond0 –rename team0</p>
<p>{% endhighlight %}</p>
<p>To convert a current bond0 configuration to team ifcfg, and to manually specify the path to the ifcfg file, issue a command as root:</p>
<p>{% highlight console %}</p>
<p>[root@HOST1 ~]# /usr/bin/bond2team –master bond0 –configdir /path/to/ifcfg-file</p>
<p>{% endhighlight %}</p>
<p>It is also possible to create a team configuration by supplying the bond2team tool with a list of bonding parameters. For example:</p>
<p>{% highlight console %}</p>
<p>[root@HOST1 ~]# /usr/bin/bond2team –bonding_opts “mode=1 miimon=500”</p>
<p>{% endhighlight %}</p>
<h3 id="configuration--modeactive-backup">Configuration – Mode:active-backup<a hidden class="anchor" aria-hidden="true" href="#configuration--modeactive-backup">#</a></h3>
<p>Step 1:<br>
Check the available network device status</p>
<p>{% highlight console %}</p>
<p>[root@HOST1 ~]# nmcli device status
DEVICE TYPE STATE CONNECTION
eth0 ethernet connected System eth0
eno1 ethernet disconnected —
eno2 ethernet disconnected —
lo loopback unmanaged —</p>
<p>{% endhighlight %}</p>
<p>Check the network connection status</p>
<p>{% highlight console %}</p>
<p>[root@HOST1 ~]# nmcli connection show
NAME UUID TYPE DEVICE
System eth0 5fb06bd0-0bb0-7ffb-45f1-d6edd65f3e03 802-3-ethernet eth0</p>
<p>{% endhighlight %}</p>
<p>Step 2:<br>
Creating a team interface named team0 in active-backup mode</p>
<p>{% highlight console %}</p>
<p>[root@HOST1 ~]# nmcli connection add con-name team0 type team ifname team0 config ‘{“runner”: {“name”: “activebackup”}}’
Connection ‘team0’ (c30dca42-cc35-4578-95c6-ae79f33b5db3) successfully added.</p>
<p>{% endhighlight %}</p>
<p>Verify the new team connection is created</p>
<p>{% highlight console %}</p>
<p>[root@HOST1 ~]# nmcli connection show
NAME UUID TYPE DEVICE
team0 c30dca42-cc35-4578-95c6-ae79f33b5db3 team team0
System eth0 5fb06bd0-0bb0-7ffb-45f1-d6edd65f3e03 802-3-ethernet eth0</p>
<p>{% endhighlight %}</p>
<p>Step 3:<br>
Add the slave interface (eno1 and en02) and point the master to the newly created team interface team0</p>
<p>{% highlight console %}</p>
<p>[root@HOST1 ~]# nmcli connection add con-name team0-sl1 type team-slave ifname eno1 master team0
Connection ‘team0-sl1’ (8d5be820-2e88-46a2-8c08-b34ec0caf8a0) successfully added.</p>
<p>{% endhighlight %}{% highlight console %}</p>
<p>[root@HOST1 ~]# nmcli connection add con-name team0-sl2 type team-slave ifname eno2 master team0
Connection ‘team0-sl2’ (3372f52c-0164-49d5-9783-938df99f18bc) successfully added.</p>
<p>{% endhighlight %}</p>
<p>Verify the connection status now . we can see team masters and slaves here</p>
<p>{% highlight console %}</p>
<p>[root@HOST1 ~]# nmcli connection show
NAME UUID TYPE DEVICE
team0 c30dca42-cc35-4578-95c6-ae79f33b5db3 team team0
System eth0 5fb06bd0-0bb0-7ffb-45f1-d6edd65f3e03 802-3-ethernet eth0
team0-sl2 3372f52c-0164-49d5-9783-938df99f18bc 802-3-ethernet eno2
team0-sl1 8d5be820-2e88-46a2-8c08-b34ec0caf8a0 802-3-ethernet eno1</p>
<p>{% endhighlight %}</p>
<p>Step 4:<br>
Now assign the IP address to the team0 interface</p>
<p>{% highlight console %}</p>
<p>[root@HOST1 ~]# nmcli connection modify team0 ipv4.addresses 192.168.20.100/24 ipv4.method manual</p>
<p>{% endhighlight %}</p>
<p>Check the teaming status. Here we can see team0 interface status and active slave</p>
<p>{% highlight console %}</p>
<p>[root@HOST1 ~]# teamdctl team0 state
setup:
runner: activebackup
ports:
eno1
link watches:
link summary: up
instance[link_watch_0]:
name: ethtool
link: up
eno2
link watches:
link summary: up
instance[link_watch_0]:
name: ethtool
link: up
runner:
active port: eno1</p>
<p>{% endhighlight %}</p>
<p>Step 5:<br>
Checking the redundancy</p>
<p>Now bring down the current active slave interface and check the other interface becomes active</p>
<p>{% highlight console %}</p>
<p>[root@HOST1 ~]# nmcli connection down team0-sl
team0-sl1 team0-sl2</p>
<p>{% endhighlight %}{% highlight console %}</p>
<p>[root@HOST1 ~]# nmcli connection down team0-sl1</p>
<p>{% endhighlight %}{% highlight console %}</p>
<p>[root@HOST1 ~]# teamdctl team0 state
setup:
runner: activebackup
ports:
eno2
link watches:
link summary: up
instance[link_watch_0]:
name: ethtool
link: up
runner:
active port: eno2</p>
<p>{% endhighlight %}</p>
<p>Now we can see the active port is changed to eno2 automatically.</p>
<h2 id="configuration--moderound-robin">Configuration – Mode:round-robin<a hidden class="anchor" aria-hidden="true" href="#configuration--moderound-robin">#</a></h2>
<p>Step 1:<br>
Check the network interfaces available</p>
<p>{% highlight console %}</p>
<p>[root@node1 ~]# ifconfig |grep eno -A 2
eno16777728: flags=4163 mtu 1500
inet 10.0.0.21 netmask 255.255.255.0 broadcast 10.0.0.255</p>
<p>eno33554976: flags=4163 mtu 1500
ether 00:0c:29:9e:6f:a9 txqueuelen 1000 (Ethernet)</p>
<p>eno50332200: flags=4163 mtu 1500
ether 00:0c:29:9e:6f:b3 txqueuelen 1000 (Ethernet)</p>
<p>{% endhighlight %}</p>
<p>Step 2:<br>
Create a teaming interface with config roundrobin</p>
<p>{% highlight console %}</p>
<p>[root@node1 ~]# nmcli connection add con-name team1 type team ifname team1 config ‘{“runner”: {“name”: “roundrobin”}}’
Connection ‘team1’ (ef3bc4dc-c060-4d39-865a-6c6df65d6c3d) successfully added.</p>
<p>{% endhighlight %}</p>
<p>Step 3:<br>
Create a slave interface and point the master to team1</p>
<p>{% highlight console %}</p>
<p>[root@node1 ~]# nmcli connection add con-name slave1 type team-slave ifname eno33554976 master team1
Connection ‘slave1’ (f77e9f45-43fe-438d-9b91-9e2397b15272) successfully added.</p>
<p>{% endhighlight %}{% highlight console %}</p>
<p>[root@node1 ~]# nmcli connection add con-name slave2 type team-slave ifname eno50332200 master team1
Connection ‘slave2’ (4559604b-ffd4-4513-a3a9-b9c94ceb5108) successfully added.</p>
<p>{% endhighlight %}</p>
<p>Step 4:<br>
Assign IP to team1 interface</p>
<p>{% highlight console %}</p>
<p>[root@node1 ~]# nmcli connection modify team1 ipv4.addresses 10.0.0.23/24 ipv4.method manual</p>
<p>{% endhighlight %}</p>
<p>Step 5:<br>
Check the connecton status</p>
<p>{% highlight console %}</p>
<p>[root@node1 ~]# nmcli connection show
NAME UUID TYPE DEVICE
slave1 f77e9f45-43fe-438d-9b91-9e2397b15272 802-3-ethernet eno33554976
team1 ef3bc4dc-c060-4d39-865a-6c6df65d6c3d team team1
eno16777728 c0cbd7c2-b6cc-473d-919f-4a291fc72cd4 802-3-ethernet eno16777728
slave2 4559604b-ffd4-4513-a3a9-b9c94ceb5108 802-3-ethernet eno50332200</p>
<p>{% endhighlight %}{% highlight console %}</p>
<p>[root@node1 ~]# teamdctl team1 state
setup:
runner: roundrobin
ports:
eno50332200
link watches:
link summary: up
instance[link_watch_0]:
name: ethtool
link: up
eno33554976
link watches:
link summary: up
instance[link_watch_0]:
name: ethtool
link: up</p>
<p>{% endhighlight %}</p>
<h2 id="bandwidth-analysis-between-individual-nic-and-teaming-nic-moderound-robin">Bandwidth analysis between individual NIC and teaming NIC (mode=round-robin)<a hidden class="anchor" aria-hidden="true" href="#bandwidth-analysis-between-individual-nic-and-teaming-nic-moderound-robin">#</a></h2>
<p>I Used another VM(node2) with identical configuraton and followed the same steps and assined the IP 10.0.0.24 to team1 interface.</p>
<p>{% highlight console %}</p>
<p>[root@node2 ~]# nmcli connection modify team1 ipv4.addresses 10.0.0.24/24 ipv4.method manual</p>
<p>{% endhighlight %}</p>
<p>Step 1:<br>
Installing qperf packege in both the node</p>
<p>{% highlight console %}</p>
<p>[root@nodeX]# rpm -ivh qperf-0.4.9-2.el7.x86_64.rpm
warning: qperf-0.4.9-2.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID fd431d51: NOKEY
Preparing… ################################# [100%]
Updating / installing…
1:qperf-0.4.9-2.el7 ################################# [100%]</p>
<p>{% endhighlight %}</p>
<p>Step 2:<br>
Flush the iptables in both the nodes</p>
<p>{% highlight console %}</p>
<p>[root@nodeX ~]# iptables -F</p>
<p>{% endhighlight %}</p>
<p>Step 3:<br>
Now bringing down the teaming interface from both the nodes to check the bandwith by keeping only individual NIC</p>
<p>{% highlight console %}</p>
<p>[root@node1 ~]# nmcli connection down team1</p>
<p>{% endhighlight %}{% highlight console %}</p>
<p>[root@node1 ~]# nmcli connection show
NAME UUID TYPE DEVICE
slave2 4559604b-ffd4-4513-a3a9-b9c94ceb5108 802-3-ethernet —
eno16777728 c0cbd7c2-b6cc-473d-919f-4a291fc72cd4 802-3-ethernet eno16777728
team1 ef3bc4dc-c060-4d39-865a-6c6df65d6c3d team —
slave1 f77e9f45-43fe-438d-9b91-9e2397b15272 802-3-ethernet —</p>
<p>{% endhighlight %}{% highlight console %}</p>
<p>[root@node2 ~]# nmcli connection down team1</p>
<p>{% endhighlight %}{% highlight console %}</p>
<p>[root@node2 ~]# nmcli connection show
NAME UUID TYPE DEVICE
slave1 3d2ae74e-00b5-42d9-b531-d2950190f9de 802-3-ethernet —
team1 18b13233-eb4b-4468-8bc9-e8d8263a404b team —
eno16777728 42910ac3-a701-4f5e-b416-59c61ce1eb11 802-3-ethernet eno16777728
slave2 72061aa5-dac5-4376-b6df-34c0e5620b2e 802-3-ethernet —</p>
<p>{% endhighlight %}</p>
<p>Step 4:<br>
Now starting qperf in node2</p>
<p>{% highlight console %}</p>
<p>[root@node2 ~]# qperf</p>
<p>{% endhighlight %}</p>
<p>Step 5:<br>
Now running qperf for 5 minutes to check the tcp and udp bandwidth between node 1 and node 2 .<br>
The IP 10.0.0.22 is assined to NIC eno16777728 of node2</p>
<p>{% highlight console %}</p>
<p>[root@node1 ~]# qperf 10.0.0.22 -t 300 tcp_bw udp_bw
tcp_bw:
bw = 105 MB/sec
udp_bw:
send_bw = 55.9 MB/sec
recv_bw = 55.2 MB/sec</p>
<p>{% endhighlight %}</p>
<p>Step 6:<br>
Now bandwidth of individual NIC is tested, lets bring up team interface and bring down individual NIC</p>
<p>{% highlight console %}</p>
<p>[root@node1 ~]# nmcli connection down eno16777728</p>
<p>{% endhighlight %}{% highlight console %}</p>
<p>[root@node1 ~]# nmcli connection show
NAME UUID TYPE DEVICE
slave2 4559604b-ffd4-4513-a3a9-b9c94ceb5108 802-3-ethernet eno50332200
eno16777728 c0cbd7c2-b6cc-473d-919f-4a291fc72cd4 802-3-ethernet —
team1 ef3bc4dc-c060-4d39-865a-6c6df65d6c3d team team1
slave1 f77e9f45-43fe-438d-9b91-9e2397b15272 802-3-ethernet eno33554976</p>
<p>{% endhighlight %}{% highlight console %}</p>
<p>[root@node2 ~]# nmcli connection down eno16777728</p>
<p>{% endhighlight %}{% highlight console %}</p>
<p>[root@node2 ~]# nmcli connection show
NAME UUID TYPE DEVICE
slave1 3d2ae74e-00b5-42d9-b531-d2950190f9de 802-3-ethernet eno33554976
team1 18b13233-eb4b-4468-8bc9-e8d8263a404b team team1
eno16777728 42910ac3-a701-4f5e-b416-59c61ce1eb11 802-3-ethernet —
slave2 72061aa5-dac5-4376-b6df-34c0e5620b2e 802-3-ethernet eno50332200</p>
<p>{% endhighlight %}</p>
<p>Step 7:<br>
Starting qperf on node2</p>
<p>{% highlight console %}</p>
<p>[root@node2 ~]# qperf</p>
<p>{% endhighlight %}</p>
<p>Step 8:<br>
Now running qperf for 5 minutes to check the tcp and udp bandwidth between node 1 and node 2 .<br>
The IP 10.0.0.24 is assined to team1 interface of node2</p>
<p>{% highlight console %}</p>
<p>[root@node1 ~]# qperf 10.0.0.24 -t 300 tcp_bw udp_bw
tcp_bw:
bw = 108 MB/sec
udp_bw:
send_bw = 51.5 MB/sec
recv_bw = 51 MB/sec</p>
<p>{% endhighlight %}</p>
<p>Now we can see the bandwith between individual NIC and team interface is almost same.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/linux/">Linux</a></li>
      <li><a href="http://localhost:1313/tags/opensource/">Opensource</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/2017-10-07-bike-trip-to-goa/">
    <span class="title">« Prev</span>
    <br>
    <span>Bike trip to Goa</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/2017-10-07-beautiful-budapest/">
    <span class="title">Next »</span>
    <br>
    <span>Beautiful Budapest</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Network teaming – RHEL7 on x"
            href="https://x.com/intent/tweet/?text=Network%20teaming%20%e2%80%93%20RHEL7&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2f2017-10-07-network-teaming-rhel7%2f&amp;hashtags=linux%2copensource">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Network teaming – RHEL7 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2f2017-10-07-network-teaming-rhel7%2f&amp;title=Network%20teaming%20%e2%80%93%20RHEL7&amp;summary=Network%20teaming%20%e2%80%93%20RHEL7&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2f2017-10-07-network-teaming-rhel7%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Network teaming – RHEL7 on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2f2017-10-07-network-teaming-rhel7%2f&title=Network%20teaming%20%e2%80%93%20RHEL7">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Network teaming – RHEL7 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2f2017-10-07-network-teaming-rhel7%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Network teaming – RHEL7 on whatsapp"
            href="https://api.whatsapp.com/send?text=Network%20teaming%20%e2%80%93%20RHEL7%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2f2017-10-07-network-teaming-rhel7%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Network teaming – RHEL7 on telegram"
            href="https://telegram.me/share/url?text=Network%20teaming%20%e2%80%93%20RHEL7&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2f2017-10-07-network-teaming-rhel7%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Network teaming – RHEL7 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Network%20teaming%20%e2%80%93%20RHEL7&u=http%3a%2f%2flocalhost%3a1313%2fposts%2f2017-10-07-network-teaming-rhel7%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">My New Hugo Site</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
